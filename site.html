<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<title>EBWRAPING</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: Arial, sans-serif;
  overflow-x: hidden;
}

section {
  padding: 60px 20px;
  text-align: center;
}

/* space for ticker */
section:first-of-type {
  margin-top: 40px;
}

h1, h2 { margin-bottom: 20px; }

.btn {
  display: inline-block;
  padding: 18px 40px;
  background: #dc2626;
  color: white;
  text-decoration: none;
  font-size: 22px;
  border-radius: 14px;
  font-weight: bold;
}

/* ===== JS-DRIVEN NEWS TICKER ===== */
.news-ticker {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 40px;
  background: #dc2626;
  overflow: hidden;
  z-index: 10;
  display: flex;
  align-items: center;
}

.news-track {
  position: relative;
  width: 100%;
  height: 40px;
  overflow: hidden;
}

.news-text {
  position: absolute;
  top: 0;
  left: 0;
  height: 40px;
  display: flex;
  align-items: center;

  white-space: nowrap;
  font-size: 15px;
  font-weight: bold;
  will-change: transform;
}

/* ===== SLIDER ===== */
.coverflow {
  position: relative;
  z-index: 20;
  height: 420px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.card {
  position: absolute;
  width: 280px;
  height: 380px;
  border-radius: 20px;
  overflow: hidden;
  cursor: pointer;
  opacity: 0;
  filter: blur(8px);
  transition: transform 0.45s ease, opacity 0.45s ease, filter 0.45s ease;
}

.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.active { transform: scale(1); opacity: 1; filter: blur(0); z-index: 5; }
.next { transform: translateX(160px) scale(.9); opacity: .8; }
.prev { transform: translateX(-160px) scale(.9); opacity: .8; }
.next2 { transform: translateX(300px) scale(.8); opacity: .6; }
.prev2 { transform: translateX(-300px) scale(.8); opacity: .6; }

/* ===== VIEWER ===== */
.viewer {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.95);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  touch-action: none;
}

.viewer.active { display: flex; }

.viewer img {
  max-width: 90vw;
  max-height: 90vh;
  transform-origin: center center;
}
</style>
</head>

<body>

<!-- NEWS TICKER -->
<div class="news-ticker">
  <div class="news-track" id="newsTrack">
    <div class="news-text" id="newsText1">
      ğŸ”´ ××‘×¦×¢ ×”×©×‘×•×¢ â€¢ ×¢×˜×™×¤×ª ×¨×›×‘ ×‘××—×™×¨ ××™×•×—×“ â€¢ ×”×©×—×¨×ª ×—×œ×•× ×•×ª â€¢ PPF ××™×›×•×ª×™ â€¢ ×§×‘×™×¢×ª ×ª×•×¨ ×¢×›×©×™×• ğŸ”´
    </div>
    <div class="news-text" id="newsText2">
      ğŸ”´ ××‘×¦×¢ ×”×©×‘×•×¢ â€¢ ×¢×˜×™×¤×ª ×¨×›×‘ ×‘××—×™×¨ ××™×•×—×“ â€¢ ×”×©×—×¨×ª ×—×œ×•× ×•×ª â€¢ PPF ××™×›×•×ª×™ â€¢ ×§×‘×™×¢×ª ×ª×•×¨ ×¢×›×©×™×• ğŸ”´
    </div>
  </div>
</div>

<section>
  <h1>EBWRAPING</h1>
  <p>×¢×˜×™×¤×•×ª ×¨×›×‘ â€¢ ×”×©×—×¨×ª ×—×œ×•× ×•×ª â€¢ PPF</p>
  <a class="btn" href="https://wa.me/9725XXXXXXXX">×§×‘×™×¢×ª ×ª×•×¨</a>
</section>

<section>
  <h2>×”×¢×‘×•×“×•×ª ×©×œ× ×•</h2>
  <div class="coverflow" id="slider">
    <!-- 23 images -->
    <div class="card"><img src="work1.jpg"></div>
    <div class="card"><img src="work2.jpg"></div>
    <div class="card"><img src="work3.jpg"></div>
    <div class="card"><img src="work4.jpg"></div>
    <div class="card"><img src="work5.jpg"></div>
    <div class="card"><img src="work6.jpg"></div>
    <div class="card"><img src="work7.jpg"></div>
    <div class="card"><img src="work8.jpg"></div>
    <div class="card"><img src="work9.jpg"></div>
    <div class="card"><img src="work10.jpg"></div>
    <div class="card"><img src="work11.jpg"></div>
    <div class="card"><img src="work12.jpg"></div>
    <div class="card"><img src="work13.jpg"></div>
    <div class="card"><img src="work14.jpg"></div>
    <div class="card"><img src="work15.jpg"></div>
    <div class="card"><img src="work16.jpg"></div>
    <div class="card"><img src="work17.jpg"></div>
    <div class="card"><img src="work18.jpg"></div>
    <div class="card"><img src="work19.jpg"></div>
    <div class="card"><img src="work20.jpg"></div>
    <div class="card"><img src="work21.jpg"></div>
    <div class="card"><img src="work22.jpg"></div>
    <div class="card"><img src="work23.jpg"></div>
  </div>
</section>

<div class="viewer" id="viewer">
  <img id="viewerImg">
</div>

<script>
/* ===== TICKER (TRUE LOOP, NEVER EMPTY) ===== */
const t1 = document.getElementById('newsText1');
const t2 = document.getElementById('newsText2');

let x1 = 0;
let x2 = 0;

function initTicker() {
  const w1 = t1.offsetWidth;
  x1 = 0;
  x2 = w1; // place 2nd immediately after 1st
}

window.addEventListener('load', () => {
  initTicker();
  requestAnimationFrame(moveTicker);
});
window.addEventListener('resize', initTicker);

function moveTicker() {
  const speed = 0.6;

  const w1 = t1.offsetWidth;

  x1 -= speed;
  x2 -= speed;

  // when one fully leaves, move it to the end of the other
  if (x1 <= -w1) x1 = x2 + w1;
  if (x2 <= -w1) x2 = x1 + w1;

  t1.style.transform = `translateX(${x1}px)`;
  t2.style.transform = `translateX(${x2}px)`;

  requestAnimationFrame(moveTicker);
}

/* ===== SLIDER ===== */
const cards = document.querySelectorAll('.card');
let index = 0;
const total = cards.length;
const get = i => (i + total) % total;

function update() {
  cards.forEach(c => c.className = 'card');
  cards[get(index)].classList.add('active');
  cards[get(index+1)].classList.add('next');
  cards[get(index+2)].classList.add('next2');
  cards[get(index-1)].classList.add('prev');
  cards[get(index-2)].classList.add('prev2');
}
update();

/* swipe */
let startX = 0;
const slider = document.getElementById('slider');
slider.addEventListener('touchstart', e => startX = e.touches[0].clientX);
slider.addEventListener('touchend', e => {
  const dx = e.changedTouches[0].clientX - startX;
  if (dx < -50) index++;
  if (dx > 50) index--;
  index = get(index);
  update();
});

/* ===== VIEWER WITH EXIT (MOBILE SAFE) ===== */
const viewer = document.getElementById('viewer');
const viewerImg = document.getElementById('viewerImg');
let scale = 1;

cards.forEach(card => {
  card.addEventListener('click', () => {
    if (!card.classList.contains('active')) return;
    viewerImg.src = card.querySelector('img').src;
    scale = 1;
    viewerImg.style.transform = 'scale(1)';
    viewer.classList.add('active');
  });
});

/* close helper */
function closeViewer() {
  viewer.classList.remove('active');
  scale = 1;
  viewerImg.style.transform = 'scale(1)';
}

/* exit on tap black background (desktop + mobile) */
viewer.addEventListener('click', (e) => {
  if (e.target === viewer) closeViewer();
});
viewer.addEventListener('touchend', (e) => {
  if (e.target === viewer) closeViewer();
});

/* pinch zoom + exit */
let startDist = 0;
let baseScale = 1;

viewer.addEventListener('touchstart', e => {
  if (!viewer.classList.contains('active')) return;

  if (e.touches.length === 2) {
    e.preventDefault();
    startDist = Math.hypot(
      e.touches[0].clientX - e.touches[1].clientX,
      e.touches[0].clientY - e.touches[1].clientY
    );
    baseScale = scale;
  }
}, { passive: false });

viewer.addEventListener('touchmove', e => {
  if (!viewer.classList.contains('active')) return;

  if (e.touches.length === 2) {
    e.preventDefault();
    const dist = Math.hypot(
      e.touches[0].clientX - e.touches[1].clientX,
      e.touches[0].clientY - e.touches[1].clientY
    );

    scale = Math.max(1, Math.min(3, baseScale * (dist / startDist)));
    viewerImg.style.transform = `scale(${scale})`;

    // if user zooms back to normal => exit
    if (scale <= 1.01) closeViewer();
  }
}, { passive: false });

/* exit with ESC (desktop) */
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && viewer.classList.contains('active')) closeViewer();
});
</script>

</body>
</html>
